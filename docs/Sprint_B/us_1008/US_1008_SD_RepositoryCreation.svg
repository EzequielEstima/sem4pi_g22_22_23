<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="298.2px" preserveAspectRatio="none" style="width:339px;height:298px;background:#FFFFFF;" version="1.1" viewBox="0 0 339 298" width="339.5px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="156.1984" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="34.3" y="64.5969"/><rect fill="#FFFFFF" height="60.9328" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="123.2" y="78.9633"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="223.3" y="98.9297"/><rect fill="#FFFFFF" height="60.9328" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="223.3" y="159.8625"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="305.55" y="179.8289"/><line style="stroke:#181818;stroke-width:0.3499999999999999;stroke-dasharray:5.0,5.0;" x1="37.8" x2="37.8" y1="57.5969" y2="233.3953"/><line style="stroke:#181818;stroke-width:0.3499999999999999;stroke-dasharray:5.0,5.0;" x1="126.7" x2="126.7" y1="57.5969" y2="233.3953"/><line style="stroke:#181818;stroke-width:0.3499999999999999;stroke-dasharray:5.0,5.0;" x1="226.8" x2="226.8" y1="57.5969" y2="233.3953"/><line style="stroke:#181818;stroke-width:0.3499999999999999;stroke-dasharray:5.0,5.0;" x1="308.7" x2="308.7" y1="57.5969" y2="233.3953"/><rect fill="#E2E2F0" height="31.6969" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="68.6" x="3.5" y="25.2"/><text fill="#000000" font-family="sans-serif" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="58.8" x="8.4" y="38.9717">«application»</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="32.9" x="21.35" y="49.9201">Service</text><rect fill="#E2E2F0" height="31.6969" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="68.6" x="3.5" y="232.6953"/><text fill="#000000" font-family="sans-serif" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="58.8" x="8.4" y="246.467">«application»</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="32.9" x="21.35" y="257.4154">Service</text><rect fill="#E2E2F0" height="31.6969" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="95.2" x="79.1" y="25.2"/><text fill="#000000" font-family="sans-serif" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="62.3" x="95.55" y="38.9717">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="85.4" x="84" y="49.9201">PersistenceContext</text><rect fill="#E2E2F0" height="31.6969" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="95.2" x="79.1" y="232.6953"/><text fill="#000000" font-family="sans-serif" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="62.3" x="95.55" y="246.467">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="85.4" x="84" y="257.4154">PersistenceContext</text><rect fill="#E2E2F0" height="31.6969" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="91" x="181.3" y="25.2"/><text fill="#000000" font-family="sans-serif" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="41.3" x="206.15" y="38.9717">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="81.2" x="186.2" y="49.9201">RepositoryFactory</text><rect fill="#E2E2F0" height="31.6969" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="91" x="181.3" y="232.6953"/><text fill="#000000" font-family="sans-serif" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="41.3" x="206.15" y="246.467">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="81.2" x="186.2" y="257.4154">RepositoryFactory</text><text fill="#000000" font-family="sans-serif" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="55.3" x="279.3" y="44.5717">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="53.2" x="280.35" y="55.5201">XRepository</text><path d="M296.45,10.5 C296.45,3.5 309.05,3.5 309.05,3.5 C309.05,3.5 321.65,3.5 321.65,10.5 L321.65,28.7 C321.65,35.7 309.05,35.7 309.05,35.7 C309.05,35.7 296.45,35.7 296.45,28.7 L296.45,10.5 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.0499999999999998;"/><path d="M296.45,10.5 C296.45,17.5 309.05,17.5 309.05,17.5 C309.05,17.5 321.65,17.5 321.65,10.5 " fill="none" style="stroke:#181818;stroke-width:1.0499999999999998;"/><text fill="#000000" font-family="sans-serif" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="55.3" x="279.3" y="241.567">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="53.2" x="280.35" y="252.5154">XRepository</text><path d="M296.45,261.5922 C296.45,254.5922 309.05,254.5922 309.05,254.5922 C309.05,254.5922 321.65,254.5922 321.65,261.5922 L321.65,279.7922 C321.65,286.7922 309.05,286.7922 309.05,286.7922 C309.05,286.7922 296.45,286.7922 296.45,279.7922 L296.45,261.5922 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.0499999999999998;"/><path d="M296.45,261.5922 C296.45,268.5922 309.05,268.5922 309.05,268.5922 C309.05,268.5922 321.65,268.5922 321.65,261.5922 " fill="none" style="stroke:#181818;stroke-width:1.0499999999999998;"/><rect fill="#FFFFFF" height="156.1984" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="34.3" y="64.5969"/><rect fill="#FFFFFF" height="60.9328" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="123.2" y="78.9633"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="223.3" y="98.9297"/><rect fill="#FFFFFF" height="60.9328" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="223.3" y="159.8625"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="305.55" y="179.8289"/><polygon fill="#181818" points="114.8,76.1633,121.8,78.9633,114.8,81.7633,117.6,78.9633" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="41.3" x2="119" y1="78.9633" y2="78.9633"/><text fill="#000000" font-family="sans-serif" font-size="9.1" font-weight="bold" lengthAdjust="spacing" textLength="4.9" x="46.2" y="75.6349">1</text><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="52.5" x="53.9" y="75.6349">repositories()</text><polygon fill="#181818" points="214.9,96.1297,221.9,98.9297,214.9,101.7297,217.7,98.9297" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="130.2" x2="219.1" y1="98.9297" y2="98.9297"/><text fill="#000000" font-family="sans-serif" font-size="9.1" font-weight="bold" lengthAdjust="spacing" textLength="4.9" x="135.1" y="95.6013">2</text><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="30.8" x="142.8" y="95.6013">create()</text><polygon fill="#181818" points="49,137.0961,42,139.8961,49,142.6961,46.2,139.8961" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="44.8" x2="126" y1="139.8961" y2="139.8961"/><text fill="#000000" font-family="sans-serif" font-size="9.1" font-weight="bold" lengthAdjust="spacing" textLength="4.9" x="53.2" y="136.5677">3</text><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="48.3" x="60.9" y="136.5677">repoFactory</text><polygon fill="#181818" points="214.9,157.0625,221.9,159.8625,214.9,162.6625,217.7,159.8625" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="41.3" x2="219.1" y1="159.8625" y2="159.8625"/><text fill="#000000" font-family="sans-serif" font-size="9.1" font-weight="bold" lengthAdjust="spacing" textLength="4.9" x="46.2" y="156.5341">4</text><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="53.9" x="53.9" y="156.5341">XRepository()</text><polygon fill="#181818" points="297.15,177.0289,304.15,179.8289,297.15,182.6289,299.95,179.8289" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="230.3" x2="301.35" y1="179.8289" y2="179.8289"/><text fill="#000000" font-family="sans-serif" font-size="9.1" font-weight="bold" lengthAdjust="spacing" textLength="4.9" x="235.2" y="176.5005">5</text><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="30.8" x="242.9" y="176.5005">create()</text><polygon fill="#181818" points="45.5,217.9953,38.5,220.7953,45.5,223.5953,42.7,220.7953" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="41.3" x2="226.1" y1="220.7953" y2="220.7953"/><text fill="#000000" font-family="sans-serif" font-size="9.1" font-weight="bold" lengthAdjust="spacing" textLength="4.9" x="49.7" y="217.4669">6</text><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="25.9" x="57.4" y="217.4669">XRepo</text><!--MD5=[4e5a2288d9bcadad1ee668c899052edc]
@startuml
participant Service as SERVICE  <<application>>
participant PersistenceContext as PERS_CONTX <<persistence>>
participant RepositoryFactory as REPO_FAC <<factory>>
database XRepository as REPO <<repository>>

autonumber
activate SERVICE
SERVICE -> PERS_CONTX : repositories()
activate PERS_CONTX
PERS_CONTX -> REPO_FAC : create()
activate REPO_FAC
deactivate REPO_FAC
PERS_CONTX - ->SERVICE : repoFactory
deactivate PERS_CONTX
SERVICE -> REPO_FAC : XRepository()
activate REPO_FAC
REPO_FAC -> REPO : create()
activate REPO
deactivate REPO
REPO_FAC - -> SERVICE : XRepo
deactivate REPO_FAC
deactivate SERVICE
@enduml

PlantUML version 1.2022.13(Sat Nov 19 13:22:17 WET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>