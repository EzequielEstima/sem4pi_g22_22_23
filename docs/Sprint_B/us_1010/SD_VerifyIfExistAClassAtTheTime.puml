@startuml
'https://plantuml.com/sequence-diagram

participant CreateClassService as service <<application>>
participant Course as course <<domain>>
participant Class as courseClass <<domain>>
participant WeeklyDate as weeklyDate <<domain>>
participant ScheduledDate as scheduleDate <<domain>>
participant Duration as duration <<domain>>
participant Date as date <<domain>>

activate service
service -> course: verifyIfExistAClassAtTheTime(startingDateWithTime, duration)
activate course

loop for all Class or until boolean == true
course -> courseClass: verifyIfExistAClassAtTheTime(startingDateWithTime, duration)
activate courseClass
courseClass -> weeklyDate: verifyIfExistAClassAtTheTime(startingDateWithTime, duration)
activate weeklyDate
loop for each scheduledDate in WeeklyDate or until boolean == true
weeklyDate -> scheduleDate: verifyIfExistAtTheCurrentTime(startingDateWithTime, duration)
activate scheduleDate
scheduleDate -> duration : returnMinutes()
activate duration
duration --> scheduleDate : thisDuration
deactivate duration
scheduleDate -> date : returnDate()
activate date
date --> scheduleDate : data_time
deactivate date

scheduleDate --> weeklyDate: boolean
deactivate scheduleDate
end
weeklyDate --> courseClass: boolean
deactivate weeklyDate
courseClass -->course: boolean
deactivate courseClass
end
course --> service: boolean
deactivate course
deactivate service


@enduml